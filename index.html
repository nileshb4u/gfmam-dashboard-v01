<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GFMAM Members Value Proposition Dashboard</title>
    <link rel="stylesheet" href="style.css" />
    <!-- Font Awesome for icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Choices.js for multi-select dropdown -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css"
    />
  </head>
  <body>
    <header class="main-header">
      <div class="header-container">
        <div class="header-left">
          <img
            src="assets/marca_global_forum_horizontal_100dpi_1-removebg-preview.png"
            alt="GFMAM Logo"
            class="header-logo"
          />
        </div>
        <div class="header-right">
          <ul class="nav-menu">
            <li><i class="fa-solid fa-globe"></i> About Us</li>
            <li><i class="fa-solid fa-briefcase"></i> Projects</li>
            <li><i class="fa-solid fa-book-open"></i> Publications</li>
            <li><i class="fa-solid fa-chart-line"></i> Dashboard</li>
            <li><i class="fa-solid fa-calendar-days"></i> Events</li>
            <li><a href="admin.html"><i class="fa-solid fa-lock"></i> Admin</a></li>
          </ul>
        </div>
      </div>
      <div class="header-green-line"></div>
    </header>

    <!-- ===== GFMAM SUMMARY + SPIDER CHART LAYOUT ===== -->
    <section id="gfmam-section">
      <!-- ---- Left Side: GFMAM KPIs ---- -->
      <div class="summary-left">
        <h2 class="section-title">GFMAM Value Proposition Dashboard</h2>
        <div class="kpi-grid-container">
          <!-- Row 1: 3 Cards -->
          <div class="kpi-grid kpi-grid-3">
            <!-- KPI 1 (Dynamic) -->
            <div class="kpi-card">
              <div class="kpi-header">
                <h3>Loading...</h3>
                <div class="tooltip-container">
                  <i
                    class="fa-solid fa-circle-info tooltip-icon"
                    data-kpi=""
                  ></i>
                  <span class="tooltip-text"></span>
                </div>
              </div>
              <p id="kpi-1">--</p>
            </div>

            <!-- KPI 2 (Dynamic) -->
            <div class="kpi-card">
              <div class="kpi-header">
                <h3>Loading...</h3>
                <div class="tooltip-container">
                  <i
                    class="fa-solid fa-circle-info tooltip-icon"
                    data-kpi=""
                  ></i>
                  <span class="tooltip-text"></span>
                </div>
              </div>
              <p id="kpi-2">--</p>
            </div>

            <!-- KPI 3 (Dynamic) -->
            <div class="kpi-card">
              <div class="kpi-header">
                <h3>Loading...</h3>
                <div class="tooltip-container">
                  <i
                    class="fa-solid fa-circle-info tooltip-icon"
                    data-kpi=""
                  ></i>
                  <span class="tooltip-text"></span>
                </div>
              </div>
              <p id="kpi-3">--</p>
            </div>
          </div>

          <!-- Row 2: 4 Cards -->
          <div class="kpi-grid kpi-grid-4">
            <!-- KPI 4 (Dynamic) -->
            <div class="kpi-card">
              <div class="kpi-header">
                <h3>Loading...</h3>
                <div class="tooltip-container">
                  <i
                    class="fa-solid fa-circle-info tooltip-icon"
                    data-kpi=""
                  ></i>
                  <span class="tooltip-text"></span>
                </div>
              </div>
              <p id="kpi-4">--</p>
            </div>

            <!-- KPI 5 (Dynamic) -->
            <div class="kpi-card">
              <div class="kpi-header">
                <h3>Loading...</h3>
                <div class="tooltip-container">
                  <i
                    class="fa-solid fa-circle-info tooltip-icon"
                    data-kpi=""
                  ></i>
                  <span class="tooltip-text"></span>
                </div>
              </div>
              <p id="kpi-5">--</p>
            </div>

            <!-- KPI 6 (Dynamic) -->
            <div class="kpi-card">
              <div class="kpi-header">
                <h3>Loading...</h3>
                <div class="tooltip-container">
                  <i
                    class="fa-solid fa-circle-info tooltip-icon"
                    data-kpi=""
                  ></i>
                  <span class="tooltip-text"></span>
                </div>
              </div>
              <p id="kpi-6">--</p>
            </div>

            <!-- KPI 7 (Dynamic) -->
            <div class="kpi-card">
              <div class="kpi-header">
                <h3>Loading...</h3>
                <div class="tooltip-container">
                  <i
                    class="fa-solid fa-circle-info tooltip-icon"
                    data-kpi=""
                  ></i>
                  <span class="tooltip-text"></span>
                </div>
              </div>
              <p id="kpi-7">--</p>
            </div>
          </div>
        </div>
      </div>

      <!-- ---- Right Side: Spider Chart ---- -->
      <div class="spider-right">
        <h3 class="spider-title">
          Organization Radar
          <div class="tooltip-container">
            <i
              class="fa-solid fa-circle-info tooltip-icon"
              data-kpi="Spider Chart"
            ></i>
            <span class="tooltip-text"></span>
          </div>
        </h3>
        <select id="orgSelector"></select>
        <canvas id="spiderChart"></canvas>
      </div>
    </section>

    <!-- ====== GLOBAL CHART FILTER ====== -->
    <section class="global-filter-section">
      <div class="filter-container">
        <label for="globalOrgSelector">Select Societies to Compare</label>
        <div class="selector-wrapper">
          <select id="globalOrgSelector" multiple></select>
          <button
            id="clearAllBtn"
            class="clear-button"
            title="Clear all selections"
          >
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
      </div>
    </section>

    <!-- ====== KPI CHARTS SECTION ====== -->
    <section class="charts-section">
      <!-- Dark Row for the first 3 charts -->
      <div class="dark-row">
        <div class="charts-grid charts-grid-3">
          <!-- Chart 1: Total Members -->
          <div class="chart-box dark-chart-box">
            <div class="chart-header">
              <div class="tooltip-container">
                <i
                  class="fa-solid fa-circle-info tooltip-icon"
                  data-kpi="Total Members"
                ></i>
                <span class="tooltip-text"></span>
              </div>
            </div>
            <canvas id="chart1"></canvas>
          </div>

          <!-- Chart 2: Financial Health -->
          <div class="chart-box dark-chart-box">
            <div class="chart-header">
              <div class="tooltip-container">
                <i
                  class="fa-solid fa-circle-info tooltip-icon"
                  data-kpi="Financial Health"
                ></i>
                <span class="tooltip-text"></span>
              </div>
            </div>
            <canvas id="chart2"></canvas>
          </div>

          <!-- Chart 3: Active Projects (IN/IO) -->
          <div class="chart-box dark-chart-box">
            <div class="chart-header">
              <div class="tooltip-container">
                <i
                  class="fa-solid fa-circle-info tooltip-icon"
                  data-kpi="Active Projects (IN/IO)"
                ></i>
                <span class="tooltip-text"></span>
              </div>
            </div>
            <canvas id="chart3"></canvas>
          </div>
        </div>
      </div>

      <div class="charts-grid charts-grid-4">
        <!-- Chart 4: Collaboration Agreements (GFMAM) -->
        <div class="chart-box">
          <div class="chart-header">
            <div class="tooltip-container">
              <i
                class="fa-solid fa-circle-info tooltip-icon"
                data-kpi="Collaboration Agreements (GFMAM)"
              ></i>
              <span class="tooltip-text"></span>
            </div>
          </div>
          <canvas id="chart4"></canvas>
        </div>

        <!-- Chart 5: GFMAM Calendar Events -->
        <div class="chart-box">
          <div class="chart-header">
            <div class="tooltip-container">
              <i
                class="fa-solid fa-circle-info tooltip-icon"
                data-kpi="GFMAM Calendar Events"
              ></i>
              <span class="tooltip-text"></span>
            </div>
          </div>
          <canvas id="chart5"></canvas>
        </div>

        <!-- Chart 6: Face-to-Face Meeting Hosting -->
        <div class="chart-box">
          <div class="chart-header">
            <div class="tooltip-container">
              <i
                class="fa-solid fa-circle-info tooltip-icon"
                data-kpi="Face-to-Face Meeting Hosting"
              ></i>
              <span class="tooltip-text"></span>
            </div>
          </div>
          <canvas id="chart6"></canvas>
        </div>

        <!-- Chart 7: Triplet (3-Year Rolling) -->
        <div class="chart-box">
          <div class="chart-header">
            <div class="tooltip-container">
              <i
                class="fa-solid fa-circle-info tooltip-icon"
                data-kpi="Triplet (3-Year Rolling)"
              ></i>
              <span class="tooltip-text"></span>
            </div>
          </div>
          <canvas id="chart7"></canvas>
        </div>
      </div>
    </section>

    <!-- ===== Member Organizations Scrolling Logos ===== -->
    <section class="logo-banner-section">
      <h2 class="section-title">GFMAM Member Organizations</h2>
      <div class="logo-banner-wrapper">
        <div class="logo-banner">
          <!-- Logos should be repeated to ensure smooth scrolling -->
          <img src="assets/abraman.png" alt="Logo 1" />
          <img src="assets/Apopo_logo.png" alt="Logo 2" />
          <img src="assets/IPWEA.jpg" alt="Logo 3" />
          <img src="assets/jipm.png" alt="Logo 4" />
          <img src="assets/iframi.jpeg" alt="Logo 5" />
          <img src="assets/iam.png" alt="Logo 6" />
          <img src="assets/MAPMA logo.png" alt="Logo 7" />
          <img src="assets/IPWEA.jpg" alt="Logo 8" />
          <img src="assets/jaam.png" alt="Logo 9" />
          <img src="assets/gsmr.png" alt="Logo 10" />
          <img src="assets/efnms.png" alt="Logo 11" />
          <img src="assets/pemac.png" alt="Logo 12" />
          <img src="assets/council.png" alt="Logo 13" />
          <!-- Repeat for seamless loop -->
          <img src="assets/abraman.png" alt="Logo 1" />
          <img src="assets/Apopo_logo.png" alt="Logo 2" />
          <img src="assets/IPWEA.jpg" alt="Logo 3" />
          <img src="assets/jipm.png" alt="Logo 4" />
          <img src="assets/iframi.jpeg" alt="Logo 5" />
          <img src="assets/iam.png" alt="Logo 6" />
          <img src="assets/MAPMA logo.png" alt="Logo 7" />
          <img src="assets/IPWEA.jpg" alt="Logo 8" />
          <img src="assets/jaam.png" alt="Logo 9" />
          <img src="assets/gsmr.png" alt="Logo 10" />
          <img src="assets/efnms.png" alt="Logo 11" />
          <img src="assets/pemac.png" alt="Logo 12" />
          <img src="assets/council.png" alt="Logo 13" />
        </div>
      </div>
    </section>

    <!-- ================= KPI INFO MODAL ================= -->
    <div id="kpiModal" class="kpi-modal">
      <div class="kpi-modal-content">
        <span class="kpi-modal-close">&times;</span>
        <h2 id="kpiModalTitle" class="kpi-modal-title"></h2>
        <div class="kpi-modal-body">
          <p id="kpiModalUnit" class="kpi-modal-unit"></p>
          <p id="kpiModalDescription" class="kpi-modal-description"></p>
        </div>
      </div>
    </div>

    <!-- ================= FOOTER ================= -->
    <footer class="footer">
      <p>Â© 2025 Global Forum on Maintenance and Asset Management (GFMAM)</p>
    </footer>

    <!-- ================= JAVASCRIPT LIBRARIES ================= -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js/dist/chart.umd.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>

    <!-- Load your custom script LAST -->
    <script src="main.js"></script>
  </body>
</html>
